# Domain
# This would be set to the production domain with an env var on deployment
DOMAIN=localhost # e.g. open-politics.org

# Environment: local, staging, production
ENVIRONMENT=local

PROJECT_NAME='HQ'
ORGANISATION_NAME="Open Politics Project"
STACK_NAME=opp-hq-stack

WIPE_DB=False # ! Only for development and testing purposes, will be removed soon

# Backend
BACKEND_PORT=8022
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:5173,https://localhost,https://localhost:3000,http://open-politics.org,https://open-politics.org,https://open-politics.org:80,https://open-politics.org:443"
SECRET_KEY=changeThis
FIRST_SUPERUSER=changeThis
FIRST_SUPERUSER_PASSWORD=changeThis
USERS_OPEN_REGISTRATION=True

# Example Remote S3 Configuration
# MINIO_ENDPOINT=nbg1.your-objectstorage.com (Hetzner)
# MINIO_HOST=
# MINIO_PORT=
# MINIO_ROOT_USER=xxx
# MINIO_ROOT_PASSWORD=xxx
# MINIO_BUCKET_NAME=yyy
# MINIO_REGION=eu-central
# MINIO_ACCESS_KEY=xxx
# MINIO_SECRET_KEY=xxx
# MINIO_SECURE=true
# MINIO_USE_SSL=true

# S3-compatible storage/ MiniO (Files, Documents uploaded or ingested into workspace)
MINIO_ENDPOINT=minio:9000
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_ROOT_USER=app_user
MINIO_ROOT_PASSWORD=app_user_password
MINIO_BUCKET_NAME=webapp-dev-user-documents
MINIO_REGION=
MINIO_ACCESS_KEY=app_user
MINIO_SECRET_KEY=app_user_password
MINI_USE_SSL=false

REDIS_HOST=redis      
REDIS_PORT=6379
REDIS_DB=0  

## Optional Redis override
@REDIS_URL=redis://my-redis-host.aws.com:6379/0
# or rediss://... for TLS
# or redis://user:pass@host:port/db for auth

# ────────────────────────────── Geocoding Configuration ──────────────────────────────
# Public geocoding uses local Nominatim with auto-fallback to public API (no config needed)
# User agent for public API requests (required by Nominatim usage policy)
GEOCODING_USER_AGENT=OpenPoliticsHQ/1.0

# Local Nominatim Container (for compose/kubernetes deployments)
NOMINATIM_BASE_URL=http://nominatim:8080

# For Europe detailed (10 min import, address-level, needs your maschine to suvive a 12-14gb peak memory workload)
NOMINATIM_PBF_URL=https://download.geofabrik.de/europe-latest.osm.pbf
NOMINATIM_IMPORT_STYLE=admin

# For world coarse (2h import, city/district-level) - DEFAULT
# NOMINATIM_PBF_URL=https://planet.openstreetmap.org/pbf/planet-latest.osm.pbf
# NOMINATIM_IMPORT_STYLE=admin

# Optional: Mapbox API token (only for authenticated users via frontend)
# Users can provide their own API keys at runtime - this is just a fallback
MAPBOX_ACCESS_TOKEN=
# ─────────────────────────────────────────────────────────────────────────────────────

# Emails
SMTP_HOST=
SMTP_PORT=587
SMTP_TLS=True
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_NAME=${PROJECT_NAME}
EMAILS_FROM_EMAIL=info@example.com
SMTP_SSL=False
REQUIRE_EMAIL_VERIFICATION=false

## Example Remote Postgres Connection
# POSTGRES_SERVER=xx.xx.xx.xxx
# POSTGRES_PORT=6432
# POSTGRES_DB=opp_app_users_dev
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=xyz
# POSTGRES_SSL_MODE=require

# Postgres (local)
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=opp_app_users
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeThis

# Configure these with your own Docker registry images
DOCKER_IMAGE_BACKEND=backend
DOCKER_IMAGE_FRONTEND=frontend

# AI Provider Key overrides (activates usage for all users)
OPENAI_API_KEY=
GOOGLE_API_KEY=
TAVILY_API_KEY=

# Annotation Processing Configuration
DEFAULT_ANNOTATION_CONCURRENCY=5
MAX_ANNOTATION_CONCURRENCY=20
ENABLE_PARALLEL_ANNOTATION_PROCESSING=true

# Discourse SSO
DISCOURSE_CONNECT_ENABLED=
DISCOURSE_CONNECT_SECRET=changeThis
DISCOURSE_CONNECT_URL= # e.g. https://forum.open-politics.org